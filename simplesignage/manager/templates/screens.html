{% load static %}
{% include "preamble.html" %}
<body>
  {% include "appbar.html" %}
  <p id="updateMe"></p>

  <table width="100%">
    {% for tv in screens %}
    <tr>
      <td align="center">
        <div style="width:35em" align="center">
          <div class="mui-panel" id="screen_{{ tv.id }}">
            <table align="center" width="98%">
              <tr>
                <td style="width:25%">{{ tv.name }}</td>
                <td style="width:32%">{{ tv.addr }}</td>
                <td style="width:20%">{{ tv.width }}x{{ tv.height }}</td>
                <td align="right">
                  <button class="mui-btn mui-btn--small mui-btn--danger" type="button" name="DelBtn" onclick="deleteScreenConfirm('{{ tv.name }}', '{{ csrf_token }}')">Delete</button>
                  <!--form class="mui-form" action="deletescreen" method="post">
                    {% csrf_token %}
                    <input type="hidden" name="Delete" value="{{ tv.id }}">
                    <input class="mui-btn mui-btn--small mui-btn--primary" type="submit" name="sub" value="Delete">
                  </form -->
                </td>
              </tr>
              <tr>
                <td colspan="4">Key : {{tv.key}}</td>
              </tr>
            </table>
          </div>
        </div>
      </td>
    </tr>
    {% endfor %}
  </table>

  <!--  -->
  <div id="addScreenPlace" style="display:none" class="mui-form">
    <!-- Hidden Form! -->
    <div class="mui-divider"></div>
    <table width="100%">
      <tr>
        <td align="center">
          <div style="width:35em" align="center">
              <div class="mui-panel">
                <form class="mui-form" action="/newscreen" method="post">
                  {% csrf_token %}
                  <table align="center" width="90%">
                    <tr>
                      <td class="mui-textfield">
                        <input type="text" name="name" placeholder="Descriptive Screen Name">
                      </td>
                    </tr>
                    <tr>
                      <td class="mui-textfield">
                        <input type="text" name="addr" placeholder="10.10.10.10 or hostname.domain">
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <table>
                          <tr>
                            <td class="mui-textfield">
                              <input type="number" name="width" value="">
                            </td>
                            <td>x</td>
                            <td class="mui-textfield">
                              <input type="number" name="height" value="">
                            </td>
                            <td>
                              <button class="mui-btn mui-btn--primary" style="margin-left:2.5em" type="button" name="button" onclick="addScreen()">cancel</button>
                            </td>
                            <td>
                              <input style="margin-left:2.5em" class="mui-btn mui-btn--primary" type="submit" name="" value="Save">
                            </td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                  </table>
                </form>
              </div>
          </div>
        </td>
      </tr>
    </table>
  </div>
  <div style="padding-left: 1em; padding-bottom:0.25em; padding-top:0.25em">
    <button type="button" name="add screen" class="mui-btn mui-btn--fab mui-btn--primary" onclick="addScreen()" id="addScreenBtn">+</button>
  </div>
</body>
